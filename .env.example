# Alt Platform Environment Variables
# Copy this file to .env and fill in the values
#
# SECURITY NOTE: This file should NOT contain actual secrets.
# All sensitive values should be stored in secrets/ directory as individual files.
# The compose files use Docker Secrets pattern (_FILE suffix) for sensitive data.

# =============================================================================
# DATABASE CONFIGURATION (non-sensitive)
# =============================================================================
POSTGRES_DB=alt
POSTGRES_USER=alt_user
DB_HOST=db
DB_PORT=5432
DB_USER=alt_user
DB_NAME=alt

# Pre-processor database user (non-sensitive)
PRE_PROCESSOR_DB_USER=pre_processor
PRE_PROCESSOR_SIDECAR_DB_USER=pre_processor_sidecar

# Tag generator database user (non-sensitive)
DB_TAG_GENERATOR_USER=tag_generator

# Search indexer database user (non-sensitive)
SEARCH_INDEXER_DB_USER=search_indexer

# =============================================================================
# RECAP DATABASE CONFIGURATION (non-sensitive)
# =============================================================================
RECAP_DB_NAME=recap
RECAP_DB_USER=recap_user
RECAP_DB_PORT=5432

# =============================================================================
# RAG DATABASE CONFIGURATION (non-sensitive)
# =============================================================================
RAG_DB_NAME=rag
RAG_DB_USER=rag_user
RAG_DB_PORT=5436

# =============================================================================
# CLICKHOUSE CONFIGURATION (non-sensitive)
# =============================================================================
CLICKHOUSE_DB=rask_logs
CLICKHOUSE_USER=rask_user

# =============================================================================
# APPLICATION CONFIGURATION (non-sensitive)
# =============================================================================
NEXT_PUBLIC_APP_ORIGIN=http://localhost
NEXT_PUBLIC_IDP_ORIGIN=http://localhost
NEXT_PUBLIC_KRATOS_PUBLIC_URL=http://localhost/ory
NEXT_PUBLIC_RETURN_TO_DEFAULT=/dashboard
KRATOS_INTERNAL_URL=http://kratos:4433
KRATOS_PUBLIC_URL=http://localhost/ory
AUTH_HUB_INTERNAL_URL=http://auth-hub:8888
ALT_BACKEND_BASE_URL=http://alt-backend:9000

# =============================================================================
# SECRETS (stored in secrets/ directory)
# =============================================================================
# The following secrets must be created as files in the secrets/ directory:
#
# secrets/postgres_password.txt        - PostgreSQL superuser password
# secrets/db_password.txt              - Application database password
# secrets/pre_processor_db_password.txt - Pre-processor service DB password
# secrets/pre_processor_sidecar_db_password.txt - Pre-processor sidecar DB password
# secrets/tag_generator_db_password.txt - Tag generator service DB password
# secrets/search_indexer_db_password.txt - Search indexer service DB password
# secrets/recap_db_password.txt        - Recap database password
# secrets/rag_db_password.txt          - RAG database password
# secrets/kratos_db_password.txt       - Kratos database password
# secrets/kratos_cookie_secret.txt     - Kratos cookie encryption secret
# secrets/kratos_cipher_secret.txt     - Kratos cipher secret
# secrets/meili_master_key.txt         - Meilisearch master key
# secrets/clickhouse_password.txt      - ClickHouse password
# secrets/csrf_secret.txt              - CSRF token secret (min 32 chars)
# secrets/service_secret.txt           - Inter-service authentication secret
# secrets/auth_shared_secret.txt       - Auth shared secret
# secrets/backend_token_secret.txt     - Backend JWT token secret
# secrets/hugging_face_token.txt       - Hugging Face API token
# secrets/inoreader_client_id.txt      - Inoreader OAuth client ID
# secrets/inoreader_client_secret.txt  - Inoreader OAuth client secret
#
# Generate secure random secrets:
#   openssl rand -base64 32 > secrets/csrf_secret.txt
#   openssl rand -base64 32 > secrets/service_secret.txt
#   # etc.

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================
# Docker group ID for log forwarders
DOCKER_GROUP_ID=984

# Nginx target for log forwarding
NGINX_TARGET=nginx

# Backend target for log forwarding
ALT_BACKEND_TARGET=alt-backend

# Atlas migration environment
ATLAS_ENV=kubernetes

# Tag label graph settings
TAG_LABEL_GRAPH_WINDOW=7d
TAG_LABEL_GRAPH_TTL_SECONDS=3600

# Recap subworker settings
RECAP_SUBWORKER_DEVICE=cuda
RECAP_SUBWORKER_BATCH_SIZE=32
RECAP_SUBWORKER_BAYES_OPT_TRIALS=15
RECAP_SUBWORKER_MODEL_BACKEND=sentence-transformers
RECAP_SUBWORKER_MODEL_ID=intfloat/multilingual-e5-large
