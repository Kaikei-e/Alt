apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "auth-token-manager.fullname" . }}-config
  namespace: {{ .Values.kubernetes.namespace }}
  labels:
    {{- include "auth-token-manager.labels" . | nindent 4 }}
data:
  KUBERNETES_NAMESPACE: {{ .Values.kubernetes.namespace | quote }}
  SECRET_NAME: {{ .Values.kubernetes.secretName | quote }}
  BROWSER_HEADLESS: {{ .Values.browser.headless | quote }}
  LOG_LEVEL: {{ .Values.logging.level | quote }}
  RETRY_MAX_ATTEMPTS: {{ .Values.retry.maxAttempts | quote }}
  NODE_ENV: "production"
  INOREADER_REDIRECT_URI: {{ .Values.oauth.inoreader.redirectUri | quote }}
  {{- if .Values.network.proxy.enabled }}
  HTTP_PROXY: {{ .Values.network.proxy.httpProxy | quote }}
  HTTPS_PROXY: {{ .Values.network.proxy.httpsProxy | quote }}
  NO_PROXY: {{ .Values.network.proxy.noProxy | quote }}
  NETWORK_FALLBACK_TO_DIRECT: {{ .Values.network.proxy.fallbackToDirect | quote }}
  {{- end }}
  NETWORK_HTTP_TIMEOUT: {{ .Values.network.timeouts.http | quote }}
  NETWORK_CONNECTIVITY_TIMEOUT: {{ .Values.network.timeouts.connectivity | quote }}
  NETWORK_CONNECTIVITY_CHECK: {{ .Values.network.timeouts.connectivityCheck | quote }}