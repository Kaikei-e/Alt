FROM rust:1.90-bookworm AS builder

WORKDIR /app

COPY ./recap-worker/ .

RUN cargo build --release --bin recap-worker

FROM debian:bookworm-slim

COPY --from=builder /app/target/release/recap-worker /usr/local/bin/

EXPOSE 9005

CMD ["/usr/local/bin/recap-worker"]