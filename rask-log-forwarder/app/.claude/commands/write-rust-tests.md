Write Rust unit tests for the public API in {path}. Cover the happy path plus at least three edge cases.
Do NOT modify implementation yet. Output only a unified diff.