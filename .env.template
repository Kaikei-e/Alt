# ./.env.template

# PostgreSQL Database Configuration
# These are default values for local development.
# IMPORTANT: DO NOT use these default values in production.
POSTGRES_DB=alt
POSTGRES_USER=alt_db_user
POSTGRES_PASSWORD=mypassword_dev_DO_NOT_USE_THIS

# Go Backend Application Database Connection
# These are the credentials your Go application will use to connect to PostgreSQL.
# In a real application, ensure these are configured securely,
# e.g., using environment variables or a secret management system.
DB_HOST=db
DB_PORT=5432
DB_USER=alt_appuser
DB_PASSWORD=apppassword_dev_DO_NOT_USE_THIS
DB_NAME=alt

# Atlas migration configuration
MIGRATE_BASELINE_VERSION=20240101000001

# Go Backend Application Configuration
GO_ENV=development
CSRF_SECRET=development-csrf-secret-change-in-production

# Next.js Frontend Application Configuration
NEXT_PUBLIC_APP_TITLE="Alt is the RSS feedn reader app"
NEXT_PUBLIC_API_BASE_URL="http://localhost/api"
NEXT_PUBLIC_IDP_ORIGIN="http://localhost"
NEXT_PUBLIC_KRATOS_PUBLIC_URL="http://localhost/ory"
NEXT_PUBLIC_APP_ORIGIN="http://localhost"
NEXT_PUBLIC_RETURN_TO_DEFAULT="http://localhost/"

# SvelteKit Frontend Application Configuration
ORIGIN=http://localhost:4173
PUBLIC_API_BASE_URL="http://localhost:9000"
BACKEND_BASE_URL="http://alt-backend:9000"
BACKEND_CONNECT_URL="http://alt-backend:9101"

# Connect-RPC Feature Flags
PUBLIC_USE_CONNECT_STREAMING=false

# Kratos Configuration
KRATOS_INTERNAL_URL=http://kratos:4433
# KRATOS_PUBLIC_URL: ブラウザからアクセスするKratosのパブリックURL
KRATOS_PUBLIC_URL=http://localhost/ory
KRATOS_ADMIN_URL=http://kratos-admin:4434/

# auth-hub Configuration
AUTH_HUB_INTERNAL_URL=http://auth-hub:8888
KRATOS_DB_USER=kratos_user
KRATOS_DB_PASSWORD=kratos_password
KRATOS_DB_HOST=kratos-db
KRATOS_DB_PORT=5432
KRATOS_DB_NAME=kratos
KRATOS_DB_SSLMODE=disable
KRATOS_CORS_ALLOWED_ORIGIN_1=http://localhost
KRATOS_CORS_ALLOWED_ORIGIN_2=http://localhost:4173
KRATOS_DEFAULT_BROWSER_RETURN_URL=http://localhost:4173/sv/
KRATOS_ALLOWED_RETURN_URL_1=http://localhost:4173/sv/
KRATOS_ALLOWED_RETURN_URL_2=http://localhost:4173/sv/home
KRATOS_ALLOWED_RETURN_URL_3=http://localhost:4173/sv/auth/login
KRATOS_LOGIN_UI_URL=http://localhost:4173/sv/auth/login
KRATOS_REGISTRATION_UI_URL=http://localhost:4173/sv/register
KRATOS_ERROR_UI_URL=http://localhost:4173/sv/error
KRATOS_SETTINGS_UI_URL=http://localhost:4173/sv/settings
KRATOS_RECOVERY_UI_URL=http://localhost:4173/sv/recovery
KRATOS_VERIFICATION_UI_URL=http://localhost:4173/sv/verification
KRATOS_VERIFICATION_RETURN_URL=http://localhost:4173/sv/
KRATOS_LOGOUT_RETURN_URL=http://localhost:4173/sv/
KRATOS_LOGIN_RETURN_URL=http://localhost:4173/sv/
KRATOS_REGISTRATION_RETURN_URL=http://localhost:4173/sv/
KRATOS_COOKIE_SECRET=0123456789abcdef0123456789abcdef
KRATOS_CIPHER_SECRET=fedcba9876543210fedcba9876543210

# HF Token
HF_TOKEN="placeholder"

# MeiliSearch Configuration
MEILI_MASTER_KEY=dev-master-key-please-change
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_API_KEY=placeholder

# Pre-Processor Configuration
PRE_PROCESSOR_DB_USER=pre_processor_user
PRE_PROCESSOR_DB_PASSWORD=preprocessor_password_dev_DO_NOT_USE_THIS

# Tag Generator Configuration
DB_TAG_GENERATOR_USER=tag_generator
DB_TAG_GENERATOR_PASSWORD=tag_generator_password_dev_DO_NOT_USE_THIS

# Search Indexer Configuration
SEARCH_INDEXER_DB_USER=search_indexer_user
SEARCH_INDEXER_DB_PASSWORD=search_indexer_password_dev_DO_NOT_USE_THIS

# ClickHouse for Log Analysis
CLICKHOUSE_DB=rask_logs
CLICKHOUSE_USER=rask_user_REPLACE_THIS
CLICKHOUSE_PASSWORD=REPLACE_THIS_REPLACE_THIS

# Rask Log Aggregator Configuration
APP_CLICKHOUSE_HOST=clickhouse
APP_CLICKHOUSE_PORT=8123
APP_CLICKHOUSE_USER=${CLICKHOUSE_USER}
APP_CLICKHOUSE_PASSWORD=${CLICKHOUSE_PASSWORD}
APP_CLICKHOUSE_DATABASE=${CLICKHOUSE_DB}

SERVICE_SECRET=hogehogefugafuga

# News Creator / Ollama Configuration
LLM_SERVICE_URL=http://127.0.0.1:11435
LLM_MODEL=gemma3:4b
LLM_TIMEOUT_SECONDS=300
LLM_NUM_CTX=71000
LLM_NUM_PREDICT=1200
SUMMARY_NUM_PREDICT=500

# Recap Worker Configuration
RECAP_DB_NAME=recap
RECAP_DB_USER=recap_user
RECAP_DB_PASSWORD=recap_db_pass_DO_NOT_USE_THIS
RECAP_DB_PORT=5432
RECAP_DB_HOST=recap-db
RECAP_DB_DSN=postgres://${RECAP_DB_USER}:${RECAP_DB_PASSWORD}@${RECAP_DB_HOST}:${RECAP_DB_PORT}/${RECAP_DB_NAME}
RECAP_MIGRATE_BASELINE_VERSION=
ALT_BACKEND_BASE_URL=http://alt-backend:9000
ALT_BACKEND_SERVICE_TOKEN=${SERVICE_SECRET}
TAG_GENERATOR_BASE_URL=http://tag-generator:9400
TAG_GENERATOR_SERVICE_TOKEN=${SERVICE_SECRET}
TAG_LABEL_GRAPH_WINDOW=7d
TAG_LABEL_GRAPH_TTL_SECONDS=900
RECAP_GENRE_REFINE_ENABLED=true
RECAP_GENRE_REFINE_ROLLOUT_PERCENT=100

# RAG Embedder Configuration (knowledge-embedder, embeddinggemma, 768-dim)
EMBEDDER_EXTERNAL=http://embedder-external:11436
EMBEDDER_EXTERNAL_HOST=0.0.0.0

# RAG Augur/LLM Configuration (knowledge-augur, gpt-oss20b-cpu)
AUGUR_EXTERNAL=http://augur-external:11435
AUGUR_EXTERNAL_HOST=0.0.0.0

# Embedding Model (768 dimensions)
EMBEDDING_MODEL=embeddinggemma

# Performance Testing Configuration (alt-perf)
# Uses TEST_USER/TEST_PASSWORD if set, otherwise falls back to PERF_TEST_*
PERF_BASE_URL=http://localhost

TEST_EMAIL=test@example.com
TEST_PASSWORD=uuidgen | base64